<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SPIKING CALCULATOR</title>
    <style>
      body {
        margin: 0;
        font-family: "Georgia", serif; /* Elegant font */
        color: #333;
      }

      .container {
        text-align: center;
        padding: 20px;
      }

      h1 {
        font-size: 36px;
        margin: 20px 0;
        font-family: "Palatino Linotype", serif;
      }

      .section {
        margin: 30px 0;
      }

      .compartment {
        display: block;
        color: #fff;
        padding: 15px;
        border-radius: 10px;
        margin: 10px 0;
        cursor: pointer;
      }

      /* Initially hidden tables and sections */
      .excel-table,
      .double-salts-section {
        display: none;
        margin: 20px auto;
        width: 90%;
        border-collapse: collapse;
      }

      .excel-table th,
      .excel-table td,
      .double-salts-section th,
      .double-salts-section td {
        border: 1px solid #999;
        padding: 10px;
        text-align: center;
      }

      .excel-table th,
      .double-salts-section th {
        background-color: #dda0dd;
        color: white;
      }

      .volume-section {
        margin-bottom: 20px;
        display: none;
        justify-content: center;
        align-items: center;
      }

      .volume-section label {
        margin-right: 10px;
        font-size: 18px;
      }

      .volume-section input {
        padding: 5px;
        width: 80px;
      }

      /* Chemistry section toggle */
      #chemistry-section.active .excel-table,
      #chemistry-section.active .volume-section,
      #chemistry-section.active .double-salts-section {
        display: block;
      }

      /* Name at the bottom */
      .footer {
        margin-top: 50px;
        font-size: 18px;
        color: #4b0082;
      }
    </style>
    <script>
      // Random background color on page load
      document.addEventListener("DOMContentLoaded", function () {
        var colors = [
          "#FFB6C1",
          "#ADD8E6",
          "#90EE90",
          "#FFA07A",
          "#87CEFA",
          "#FFD700",
          "#98FB98",
          "#EE82EE",
          "#B0C4DE",
          "#FF69B4",
        ];
        var usedColors = [];
        function getRandomColor() {
          var color;
          do {
            color = colors[Math.floor(Math.random() * colors.length)];
          } while (usedColors.includes(color) && usedColors.length < colors.length);
          usedColors.push(color);
          return color;
        }

        // Set random background color
        document.body.style.backgroundColor = getRandomColor();

        // Set different random colors for each compartment
        var compartments = document.querySelectorAll(".compartment");
        compartments.forEach(function (compartment) {
          compartment.style.backgroundColor = getRandomColor();
        });
      });

      function toggleChemistry() {
        var chemistrySection = document.getElementById("chemistry-section");
        chemistrySection.classList.toggle("active");
      }

      function updateCalculations() {
        var volume = parseFloat(document.getElementById("volume").value) || 0;

        for (var i = 1; i <= 6; i++) {
          var baseValue =
            parseFloat(document.getElementById("base" + i).value) || 0;
          var targetValue =
            parseFloat(document.getElementById("target" + i).value) || 0;
          var difference = targetValue - baseValue;
          document.getElementById("difference" + i).textContent =
            difference.toFixed(2);
          var requiredAmountMg = (difference * volume) / 100;
          document.getElementById("required" + i).textContent =
            requiredAmountMg.toFixed(2);
          document.getElementById("required_gms" + i).textContent = (
            requiredAmountMg / 1000
          ).toFixed(3);
        }
      }

      function updateDoubleSaltCalculations() {
        var base = parseFloat(document.getElementById("base-salt").value) || 0;
        var target =
          parseFloat(document.getElementById("target-salt").value) || 0;
        var difference = target - base;
        document.getElementById("difference-salt").textContent =
          difference.toFixed(2);
        var volume = parseFloat(document.getElementById("volume").value) || 0;
        var requiredAmount = (difference * volume) / 100;
        document.getElementById("required-salt").textContent =
          requiredAmount.toFixed(2);
        var mmolsRequired = requiredAmount / 24.3;
        document.getElementById("mmols-required-salt").textContent =
          mmolsRequired.toFixed(2);
        var amountRequiredMg = mmolsRequired * 246.5;
        document.getElementById("amount-required-mg-salt").textContent =
          amountRequiredMg.toFixed(2);
        var amountRequiredGms = amountRequiredMg / 1000;
        document.getElementById("amount-required-gms-salt").textContent =
          amountRequiredGms.toFixed(3);
      } 
      function updateDoubleSaltCalculations_2() {
        var base = parseFloat(document.getElementById("base-salt-2").value) || 0;
        var target =
          parseFloat(document.getElementById("target-salt-2").value) || 0;
        var difference = target - base;
        document.getElementById("difference-salt-2").textContent =
          difference.toFixed(2);
        var volume = parseFloat(document.getElementById("volume").value) || 0;
        var requiredAmount = (difference * volume) / 10000;
        document.getElementById("required-salt-2").textContent =
          requiredAmount.toFixed(2);
        var mmolsRequired = requiredAmount / 55.8;
        document.getElementById("mmols-required-salt-2").textContent =
          mmolsRequired.toFixed(2);
        var amountRequiredMg = mmolsRequired * 392.14;
        document.getElementById("amount-required-mg-salt-2").textContent =
          amountRequiredMg.toFixed(2);
        var amountRequiredGms = amountRequiredMg / 1000;
        document.getElementById("amount-required-gms-salt-2").textContent =
          amountRequiredGms.toFixed(3);
        } 
        function updateDoubleSaltCalculations_3() {
        var base = parseFloat(document.getElementById("base-salt-3").value) || 0;
        var target =
          parseFloat(document.getElementById("target-salt-3").value) || 0;
        var difference = target - base;
        document.getElementById("difference-salt-3").textContent =
          difference.toFixed(2);
        var volume = parseFloat(document.getElementById("volume").value) || 0;
        var mmolsRequired = (difference * volume) / 1000;
        document.getElementById("mmols-required-salt-3").textContent =
          mmolsRequired.toFixed(2);
        var amountRequiredMg = mmolsRequired * 84;
        document.getElementById("amount-required-mg-salt-3").textContent =
          amountRequiredMg.toFixed(2);
        var amountRequiredGms = amountRequiredMg / 1000;
        document.getElementById("amount-required-gms-salt-3").textContent =
          amountRequiredGms.toFixed(3);
 var amount of bicarb increased = difference-salt-4;
        document.getElementById("difference-salt-4").textContent =
          difference-salt-4.toFixed(3);
        } 
 // Login protection
function checkLogin() {
    var userId = prompt("Enter Login ID:");
    var password = prompt("Enter Password:");

    // Add multiple valid login credentials
    if (
        (userId === "KMF" && password === "fazil") ||   // First login ID and password
        (userId === "EQAS" && password === "bioch")  // Second login ID and password
    ) {
        alert("Login successful!");
    } else {
        alert("Invalid login. Please refresh and try again.");
        document.body.innerHTML = "";  // Clear the page content if login fails
    }
      
      }

      // Trigger login prompt on page load
      window.onload = checkLogin;
    </script>
  </head>
  <body>
    <div class="container">
      <h1>SPIKING CALCULATOR</h1>

      <!-- Compartment Buttons -->
      <div class="section">
        <div class="compartment" onclick="toggleChemistry()">Chemistry</div>

        <!-- Chemistry Section with Table and Double Salts -->
        <div id="chemistry-section">
          <div class="volume-section">
            <label for="volume">Volume (ml):</label>
            <input
              type="number"
              id="volume"
              value="0"
              step="100"
              oninput="updateCalculations()"
            />
          </div>

          <!-- Analyte Table for Chemistry  -->
          <table class="excel-table">
            <tr>
              <th>Sl. No.</th>
              <th>Analytes</th>
              <th>Base Value</th>
              <th>Target Value</th>
              <th>Difference</th>
              <th>Required Amount (mg)</th>
              <th>Required Amount (gms)</th>
            </tr>
            <tr>
              <td>1</td>
              <td>Glucose</td>
              <td>
                <input
                  type="number"
                  id="base1"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td>
                <input
                  type="number"
                  id="target1"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td id="difference1">0.00</td>
              <td id="required1">0.00</td>
              <td id="required_gms1">0.000</td>
            </tr>
            <tr>
              <td>2</td>
              <td>Urea</td>
              <td>
                <input
                  type="number"
                  id="base2"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td>
                <input
                  type="number"
                  id="target2"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td id="difference2">0.00</td>
              <td id="required2">0.00</td>
              <td id="required_gms2">0.000</td>
            </tr>
            <tr>
              <td>3</td>
              <td>Creatinine</td>
              <td>
                <input
                  type="number"
                  id="base3"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td>
                <input
                  type="number"
                  id="target3"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td id="difference3">0.00</td>
              <td id="required3">0.00</td>
              <td id="required_gms3">0.000</td>
            </tr>
            <tr>
              <td>4</td>
              <td>Total Bilirubin</td>
              <td>
                <input
                  type="number"
                  id="base4"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td>
                <input
                  type="number"
                  id="target4"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td id="difference4">0.00</td>
              <td id="required4">0.00</td>
              <td id="required_gms4">0.000</td>
            </tr>
            <tr>
              <td>5</td>
              <td>Direct Bilirubin</td>
              <td>
                <input
                  type="number"
                  id="base5"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td>
                <input
                  type="number"
                  id="target5"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td id="difference5">0.00</td>
              <td id="required5">0.00</td>
              <td id="required_gms5">0.000</td>
            </tr>
            <tr>
              <td>6</td>
              <td>Uric Acid</td>
              <td>
                <input
                  type="number"
                  id="base6"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td>
                <input
                  type="number"
                  id="target6"
                  step="0.1"
                  oninput="updateCalculations()"
                />
              </td>
              <td id="difference6">0.00</td>
              <td id="required6">0.00</td>
              <td id="required_gms6">0.000</td>
            </tr>
          </table>

          <!-- Double Salts Section -->
          <div class="double-salts-section">
            <h2>Double Salts</h2>
            <h3>
              {Salt: MgSO4.7H2O}. {Molecular Weight: 246.5}. {Analyte Atomic
              Weight:24.3}
            </h3>
            <table>
              <tr>
                <th>Sl. No.</th>
                <th>Analyte (mg)</th>
                <th>Base</th>
                <th>Target</th>
                <th>Difference</th>
                <th>Required Amount (mg)</th>
                <th>mmols Required</th>
                <th>Amount Required (mg)</th>
                <th>Amount Required (gms)</th>
              </tr>
              <tr>
                <td>7</td>
                <td>Mg</td>
                <td>
                  <input
                    type="number"
                    id="base-salt"
                    step="0.1"
                    oninput="updateDoubleSaltCalculations()"
                  />
                </td>
                <td>
                  <input
                    type="number"
                    id="target-salt"
                    step="0.1"
                    oninput="updateDoubleSaltCalculations()"
                  />
                </td>
                <td id="difference-salt">0.00</td>
                <td id="required-salt">0.00</td>
                <td id="mmols-required-salt">0.00</td>
                <td id="amount-required-mg-salt">0.00</td>
                <td id="amount-required-gms-salt">0.000</td>
              </tr>
            </table>
         
        <!-- Second Double Salts Section ((NH₄)₂Fe(SO₄)₂·6H₂O) -->
        <div class="double-salts-section">
          <h3>
            {Salt: (NH₄)₂Fe(SO₄)₂·6H₂O}. {Molecular Weight: 392.14}. {Analyte
            Atomic Weight: 55.8}
          </h3>
          <table>
            <tr>
              <th>Sl. No.</th>
              <th>Analyte (𝜇g)
              </th>
              <th>Base</th>
              <th>Target</th>
              <th>Difference</th>
              <th>Required Amount (mg)</th>
              <th>mmols Required</th>
              <th>Amount Required (mg)</th>
              <th>Amount Required (gms)</th>
            </tr>
            <tr>
              <td>8</td>
              <td>IRON</td>
              <td>
                <input
                  type="number"
                  id="base-salt-2"
                  step="0.1"
                  oninput="updateDoubleSaltCalculations_2()"
                />
              </td>
              <td>
                <input
                  type="number"
                  id="target-salt-2"
                  step="0.1"
                  oninput="updateDoubleSaltCalculations_2()"
                />
              </td>
              <td id="difference-salt-2">0.00</td>
              <td id="required-salt-2">0.00</td>
              <td id="mmols-required-salt-2">0.00</td>
              <td id="amount-required-mg-salt-2">0.00</td>
              <td id="amount-required-gms-salt-2">0.000</td>
            </tr>
          </table>
        </div>
        <!-- Third Double Salts Section (NaHCO3) -->
        <div class="double-salts-section">
          <h3>
            {Salt: NaHCO3}. {Molecular Weight: 84}. {Analyte
            Atomic Weight: 23}
          </h3>
          <table>
            <tr>
              <th>Sl. No.</th>
              <th>Analyte (mmol)
              </th>
              <th>Base</th>
              <th>Target</th>
              <th>Difference</th>
              <th>mmols Required</th>
              <th>Amount Required (mg)</th>
              <th>Amount Required (gms)</th>
              <th>Amount of Bicarb Increased (mmol/L)</th>

            </tr>
            <tr>
              <td>9</td>
              <td>Sodium</td>
              <td>
                <input
                  type="number"
                  id="base-salt-3"
                  step="0.1"
                  oninput="updateDoubleSaltCalculations_3()"
                />
              </td>
              <td>
                <input
                  type="number"
                  id="target-salt-3"
                  step="0.1"
                  oninput="updateDoubleSaltCalculations_3()"
                />
              </td>
              <td id="difference-salt-3">0.00</td>
              <td id="mmols-required-salt-3">0.00</td>
              <td id="amount-required-mg-salt-3">0.00</td>
              <td id="amount-required-gms-salt-3">0.000</td>
              <td id="amount of bicarb increased">0.00</td>
            </tr>
             <tr>
              <td>10</td>
              <td>Bicarbonate</td>
              <td>
                <input
                  type="number"
                  id="base-salt-4"
                  step="0.1"
                  oninput="updateDoubleSaltCalculations_4()"
                />
              </td>
              <td>
                <input
                  type="number"
                  id="target-salt-4"
                  step="0.1"
                  oninput="updateDoubleSaltCalculations_4()"
                />
              </td>
              <td id="difference-salt-4">0.00</td>
              <td id="mmols-required-salt-4">0.00</td>
              <td id="amount-required-mg-salt-4">0.00</td>
              <td id="amount-required-gms-salt-4">0.000</td>
            </tr>
          </table>
        </div>
      </div>
        <!-- Additional compartments -->
        <div class="compartment">Thyroid Hormones</div>
        <div class="compartment">Reproductive Hormones</div>
        <div class="compartment">Tumour Markers</div>
        <div class="compartment">Down Screening Markers</div>
        <div class="compartment">Cardiac Markers</div>
        <div class="compartment">Urine Chemistry</div>
        <div class="compartment">Urine Protein</div>
        <div class="compartment">Trace Metals</div>
      </div>

      <!-- Footer with name -->
      <div class="footer">Made & Maintained by MOHAMMED FAHATH K</div>
    </div>
  </body>
</html>
